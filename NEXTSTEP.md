## Build basic layout + css for

- DONE body (set background color, flex column align items center, overflow clip)
- DONE App -- child of body (set width as function of breakpoint, height to screen height, overflow clip)
- DONE Header -- child of app...copy from old app
- DONE picker -- take from bot's generated code...simplify as much as possible
- DONE Viz container -- empty for now...width 100%, height set to fill all remaining space, overflow clip

## Build tabs for imp/perf into Viz.tsx

DONE

## Build the VizRoot to hold the controls and canvas

- DONE Define state that tracks which split is requested
- DONE Define state that tracks whether response groups are expanded or collapsed
- DONE Rough out component that allows user to pick the split
- DONE Rough out component that hosts the canvas.

## Spinner to indicate data loading state in characterstic picker

DONE

## Get data loading hook to behave as required when a characteristic is picked.

DONE

## Create useCanvas hook without drawing logic

DONE

## Add loading spinner, error indicator, and no-data messages to VizCanvas

DONE

## Drawing points on canvas

DONE

## Legend

layout/data conditionon on responsesExpanded state
when split-by-party false, show yellow points with response
when split-by-party true, show party colors + shades

DONE

## test and refine positioning of WaveLabels

DONE

## Percentage labels

## Not enough variation in shades of yellow on points

## increase fractional magnitude of difference between partygap and responsegap

## Increase the party gaps and the response gaps, keeping the response gaps much smaller than the party gaps

## Change text of VizHeader...it needs to refer to the characteristic displayed about.

## Sad face emoji on canvas when there is a error in allocating respondent positions.

## All downloaded type defs are in meta.json. Fix data generation and download to get rid of coordinate type files.

## In data generation, counts (and thus point positions) at aggregated views need to be generated by aggregating from dis-aggregted views. Otherwise there will be subtle and hard-to-catch mis-matches.

## There is no system for mapping expanded response groups to collapsed response groups

But doing so is required for mapping respondents to positions in useCanvas.ts. As of now, we're using a hacky, arbitrary, undocumented, brittle hardcode. See "Start brittle hack..." comment in useCanvas.ts
